{"sections":[],"variants":[{"paths":["\/documentation\/glibobject\/typeensure(type:)"],"traits":[{"interfaceLanguage":"swift"}]}],"metadata":{"fragments":[{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"text":"typeEnsure","kind":"identifier"},{"text":"(","kind":"text"},{"text":"type","kind":"externalParam"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"c:@T@GType","text":"GType"},{"text":")","kind":"text"}],"symbolKind":"func","role":"symbol","title":"typeEnsure(type:)","externalID":"s:10GLibObject10typeEnsure0C0ySu_tF","modules":[{"name":"GLibObject"}],"roleHeading":"Function"},"schemaVersion":{"minor":3,"patch":0,"major":0},"hierarchy":{"paths":[["doc:\/\/GLibObject\/documentation\/GLibObject"]]},"kind":"symbol","identifier":{"url":"doc:\/\/GLibObject\/documentation\/GLibObject\/typeEnsure(type:)","interfaceLanguage":"swift"},"abstract":[{"text":"Ensures that the indicated ","type":"text"},{"type":"codeVoice","code":"type"},{"type":"text","text":" has been registered with the"},{"type":"text","text":" "},{"text":"type system, and its ","type":"text"},{"code":"_class_init()","type":"codeVoice"},{"type":"text","text":" method has been run."}],"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"text":"typeEnsure","kind":"identifier"},{"kind":"text","text":"("},{"text":"type","kind":"externalParam"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"c:@T@GType","text":"GType"},{"kind":"text","text":")"}],"platforms":["macOS"],"languages":["swift"]}]},{"content":[{"anchor":"discussion","text":"Discussion","type":"heading","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"In theory, simply calling the type’s "},{"code":"_get_type()","type":"codeVoice"},{"text":" method (or using","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"the corresponding macro) is supposed take care of this. However,"},{"type":"text","text":" "},{"code":"_get_type()","type":"codeVoice"},{"type":"text","text":" methods are often marked "},{"type":"codeVoice","code":"G_GNUC_CONST"},{"type":"text","text":" for performance"},{"type":"text","text":" "},{"type":"text","text":"reasons, even though this is technically incorrect (since"},{"text":" ","type":"text"},{"type":"codeVoice","code":"G_GNUC_CONST"},{"text":" requires that the function not have side effects,","type":"text"},{"type":"text","text":" "},{"text":"which ","type":"text"},{"type":"codeVoice","code":"_get_type()"},{"text":" methods do on the first call). As a result, if","type":"text"},{"type":"text","text":" "},{"text":"you write a bare call to a ","type":"text"},{"type":"codeVoice","code":"_get_type()"},{"type":"text","text":" macro, it may get optimized"},{"type":"text","text":" "},{"text":"out by the compiler. Using ","type":"text"},{"type":"codeVoice","code":"g_type_ensure()"},{"text":" guarantees that the","type":"text"},{"type":"text","text":" "},{"text":"type’s ","type":"text"},{"type":"codeVoice","code":"_get_type()"},{"text":" method is called.","type":"text"}]}],"kind":"content"}],"references":{"doc://GLibObject/documentation/GLibObject/typeEnsure(type:)":{"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/typeEnsure(type:)","role":"symbol","type":"topic","title":"typeEnsure(type:)","abstract":[{"text":"Ensures that the indicated ","type":"text"},{"type":"codeVoice","code":"type"},{"text":" has been registered with the","type":"text"},{"text":" ","type":"text"},{"text":"type system, and its ","type":"text"},{"code":"_class_init()","type":"codeVoice"},{"text":" method has been run.","type":"text"}],"url":"\/documentation\/glibobject\/typeensure(type:)","kind":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"typeEnsure"},{"text":"(","kind":"text"},{"kind":"externalParam","text":"type"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"GType","preciseIdentifier":"c:@T@GType"},{"text":")","kind":"text"}]},"doc://GLibObject/documentation/GLibObject":{"role":"collection","kind":"symbol","abstract":[],"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject","url":"\/documentation\/glibobject","title":"GLibObject","type":"topic"}}}